<!DOCTYPE html>
<html lang="%lang;">
<head>
  <title>[*advanced request]0</title>
  <meta name="robots" content="none">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="shortcut icon" href="%image_prefix;/favicon_gwd.png">
%include;css
  <style> /* Needed with firefox */
    input%[type=number%]%[size="2"%] { width: 2em !important; }
  </style>
%include;hed
</head>
<body%body_prop;>
<div class="container">

  <h1 class="my-2">[*advanced request]0</h1>
  %include;home


<div>
%if;(evar.search_type = "OR")
<a href="%prefix;m=H&v=advanced">[search_type AND/search type OR]0</a>.
%else;
<a href="%prefix;m=H&v=advanced&search_type=OR">[search_type AND/search type OR]1</a>.
%end;
</div>

%define;date(xx,zz)
  %if;([ !dates order]0 = "ddmmyy" or [ !dates order]0 = "ddmmyyyy" or [ !dates order]0 = "dmyyyy")
    <div class="input-group">
      <input type="number" class="form-control" name="xxdatezz_dd" aria-label="[*year/month/day]2" placeholder="[*year/month/day]2" pattern="0?[1-9]|[12][0-9]|3[01]"  min="1" max="31" size="2">
      <input type="number" class="form-control" name="xxdatezz_mm" aria-label="[*year/month/day]1" placeholder="[*year/month/day]1" pattern="0?[1-9]|1[0-2]" min="1" max="12" size="2">
      <input type="text" class="form-control" name="xxdatezz_yyyy" aria-label="[*year/month/day]0" placeholder="[*year/month/day]0" pattern="[0-9]{1,4}" size="4">
    </div>
  %elseif;([ !dates order]0 = "mmddyyyy")
    <div class="input-group">
      <input type="number" class="form-control" name="xxdatezz_mm" aria-label="[*year/month/day]1" placeholder="[*year/month/day]1" pattern="0?[1-9]|1[0-2]" min="1" max="12" size="2">
      <input type="number" class="form-control" name="xxdatezz_dd" aria-label="[*year/month/day]2" placeholder="[*year/month/day]2" pattern="0?[1-9]|[12][0-9]|3[01]"  min="1" max="31" size="2">
      <input type="text" class="form-control" name="xxdatezz_yyyy" aria-label="[*year/month/day]0" placeholder="[*year/month/day]0" pattern="[0-9]{1,4}" size="4">
    </div>
  %else;
    <div class="input-group">
      <input type="text" class="form-control" name="xxdatezz_yyyy" aria-label="[*year/month/day]0" placeholder="[*year/month/day]0" pattern="[0-9]{1,4}" size="4">
      <input type="number" class="form-control" name="xxdatezz_mm" aria-label="[*year/month/day]1" placeholder="[*year/month/day]1" pattern="0?[1-9]|1[0-2]" min="1" max="12" size="2">
      <input type="number" class="form-control" name="xxdatezz_dd" aria-label="[*year/month/day]2" placeholder="[*year/month/day]2" pattern="0?[1-9]|[12][0-9]|3[01]"  min="1" max="31" size="2">
    </div>
  %end;
%end;

%define;event(xx,yy)
  <div class="col-auto m-2">
    <div class="row">
      <h4>[*yy]0</h4>
      <div class="col-auto">
        %if;("xx"="death_")
          <div class="form-inline col justify-content-end">
            <select class="form-control" name="death">
              <option value="Dead">[*died]2</option>
              <option value="NotDead">[*alive]2</option>
              <option value="DontKnowIfDead">[*don't know]</option>
              <option value="" selected>-</option>
            </select>
          </div>
        %end;
        %if;("xx"="marriage_")
          <div class="form-inline col justify-content-end">
            <span class="form-control-label mr-2 text-align-right">[*married][:] </span>
            <div class="form-check form-check-inline">
              <input type="radio" class="form-check-input" name="married" id="mY" value="Y">
              <label class="form-check-label" for="mY" >[Y/N]0</label>
            </div>
            <div class="form-check-inline">
              <input type="radio" class="form-check-input" name="married" id="mN" value="N">
              <label class="form-check-label" for="mN" >[Y/N]1</label>
            </div>
            <div class="form-check-inline">
              <input type="radio" class="form-check-input" name="married" id="mA" value="A" checked>
              <label class="form-check-label" for="mA" >-</label>
            </div>
          </div>
        %end;
        %if;("xx"="")
          <div class="form-group-inline justify-content-end">
            <input class="form_inclune-control" id="event_birth" type="checkbox" name="event_birth" checked>
            <label class="form-inline-label" for="event_birth">[birth]</label>
            <input class="form_inclune-control" id="event_bapt" type="checkbox" name="event_bapt">
            <label class="form-inline-label" for="event_bapt">[baptism]</label>
            <input class="form_inclune-control" id="event_marriage" type="checkbox" name="event_marriage" checked>
            <label class="form-inline-label" for="event_marriage">[marriage/marriages]0</label>
            <input class="form_inclune-control" id="event_death" type="checkbox" name="event_death" checked>
            <label class="form-inline-label" for="event_death">[death]</label>
            <input class="form_inclune-control" id="event_burial" type="checkbox" name="event_burial">
            <label class="form-inline-label" for="event_burial">[burial]</label>
          </div>
        %end;
      </div>
    </div>
    <div class="row">
      <label for="xxplace" class="col-form-label">[*place]
      <input type="checkbox" class="" name="xxplace_oper" id="xxplace_oper" title="Checked -> exact search
Unchecked -> match"></label>
      <div class="col">
        <input type="text" class="form-control" name="xxplace" id="xxplace" placeholder="[*place]">
      </div>
    </div>
    <div class="row">
       <div class="col-form-label">[*after]</div>
       <div class="col">
         %apply;date("xx",1)
       </div>
    </div>
    <div class="row">
      <div class="col-form-label">[*before]</div>
      <div class="col">
       %apply;date("xx",2)
      </div>
    </div>
    <div class="row">
      <label for="xxsrc" class="col-form-label">[*source/sources]0
      <input type="checkbox" class="" name="xxsrc_oper" id="xxsrc_oper" checked title="Checked -> match
Unchecked -> not match"></label>
      <div class="col">
      <input type="text" class="form-control" name="xxsrc" id="xxsrc" placeholder="[*source/sources]0">
    </div>
   </div>
  </div>
%end;

<form class="mx-2 mt-3" method="POST" action="%action;">
<div class="d-flex flex-wrap justify-content-around">
  %hidden;
  %if;(evar.search_type = "OR")
    <input type="hidden" name="search_type" value="OR">
  %else;
    <input type="hidden" name="search_type" value="AND">
  %end;
  <input type="hidden" name="m" value="AS_OK">
    <div class="col-auto m-2">
      <div class="row">
        <h4>[*person/persons]0</h4>
        <div class="form-inline col justify-content-end">
          <span class="form-control-label mr-2 text-align-right">[*sex][:]</span>
          <div class="form-check form-check-inline">
            <input type="radio" class="form-check-input" name="sex" id="sexM" value="M">
            <label class="form-check-label" for="sexM" title="[male/female/neuter]0">[M/F]0</label>
          </div>
          <div class="form-check form-check-inline">
            <input type="radio" class="form-check-input" name="sex" id="sexU" value="N" checked>
            <label class="form-check-label" for="sexU" title="[male/female/neuter]2">-</label>
          </div>
          <div class="form-check form-check-inline">
            <input type="radio" class="form-check-input" name="sex" id="sexF" value="F">
            <label class="form-check-label" for="sexF" title="[male/female/neuter]1">[M/F]1</label>
          </div>
        </div>
      </div>
      <div class="row">
        <label for="first_name" class="col-form-label col-3">[*first name/first names]0</label>
        <div class="col-9">
          <input type="text" class="form-control" name="first_name" id="first_name" placeholder="[*first name/first names]0">
        </div>
      </div>
      <div class="row">
        <label for="surname" class="col-form-label col-3">[*surname/surnames]0</label>
        <div class="col-9">
          <input type="text" class="form-control" name="surname" id="surname" placeholder="[*surname/surnames]0">
        </div>
      </div>
      <div class="row">
        <label for="occu" class="col-form-label col-auto">[*occupation/occupations]1</label>
        <div class="col-auto">
          <input type="text" class="form-control" name="occu" id="occu" placeholder="[*occupation/occupations]1">
        </div>
      </div>
      %if;(evar.search_type = "OR")
      <div class="row">
        <span class="col-form-label col-3">[*married]</span>
        <div class="form-inline col justify-content-end">
          <div class="form-check-inline">
            <input type="radio" class="form-check-input" name="married" id="mY" value="Y">
            <label class="form-check-label" for="mY" >[Y/N]0</label>
          </div>
          <div class="form-check-inline">
            <input type="radio" class="form-check-input" name="married" id="mN" value="N">
            <label class="form-check-label" for="mN" >[Y/N]1</label>
          </div>
          <div class="form-check-inline">
            <input type="radio" class="form-check-input" name="married" id="mA" value="A" checked>
            <label class="form-check-label" for="mA" >-</label>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="form-inline col justify-content-end">
          <select class="form-control" name="death">
            <option value="Dead">[*died]2</option>
            <option value="NotDead">[*alive]2</option>
            <option value="DontKnowIfDead">[*don't know]</option>
            <option value="" selected="selected">-</option>
          </select>
        </div>
      </div>
      %end;
    </div>
    %if;(evar.search_type = "OR")
      %apply;event("","event/events")
    %else;
      %apply;event("birth_","birth")
      %apply;event("bapt_","baptism")
      %apply;event("marriage_","marriage/marriages")
      %apply;event("death_","death")
      %apply;event("burial_","burial")
    %end;
  </div>
  <div class="row justify-content-around my-3">
    <input type="reset" class="btn btn-outline-secondary btn-lg">
    <div class="col-auto">
      <div class="form-inline">
        <label for="max" class="mr-2">[*maximum]</label>
        <input type="number" class="form-control" name="max" id="max" min="0" max="5000" value="150" step="50">
        <span class="ml-2">[person/persons]1</span>
      </div>
    </div>
    <button type="submit" class="btn btn-outline-primary btn-lg">[*search/case sensitive]0</button>
  </div>
</form>
%include;trl
%include;copyr
</div>
%include;js
</body>
</html>
